<div
  class="cmd cmd-widget #history#"
  data-type="info"
  data-subtype="binary"
  data-template="tmpliconline"
  data-version="#version#"
  data-eqLogic_id="#eqLogic_id#"
  data-cmd_id="#id#"
  data-cmd_uid="#uid#"
>
  <span class="cmdName #hide_name#">#name_display#</span>
  <span class="iconCmdLine"></span>
  <script>
    jeedom.cmd.addUpdateFunction("#id#", function (_options) {
      let cmd = $(".cmd[data-cmd_id=#id#]");
      if (_options.display_value == "1") {
        $(".cmd[data-cmd_id=#id#] .iconCmdLine").empty().append("#_icon_on_#");
      } else {
        $(".cmd[data-cmd_id=#id#] .iconCmdLine").empty().append("#_icon_off_#");
      }
      if (_options.alertLevel) {
        if (_options.alertLevel == "warning") {
          cmd.addClass("label label-warning");
          cmd.attr("data-alertlevel", "warning");
        } else if (_options.alertLevel == "danger") {
          cmd.addClass("label label-danger");
          cmd.attr("data-alertlevel", "danger");
        } else {
          cmd.removeClass("label label-warning label-danger");
          cmd.attr("data-alertlevel", "none");
        }
      }
    });

    jeedom.cmd.refreshValue([
      {
        cmd_id: "#id#",
        value: "#value#",
        display_value: "#state#",
        valueDate: "#valueDate#",
        collectDate: "#collectDate#",
        alertLevel: "#alertLevel#",
        unit: "#unite#",
      },
    ]);
  </script>
</div>
